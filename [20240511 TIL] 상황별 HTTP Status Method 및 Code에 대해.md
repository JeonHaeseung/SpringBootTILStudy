### TIL - 상황별 HTTP Status Method 및 Code에 대해
---
###📌주요 메소드
- `GET`: 200 OK
  - 리소스 조회에 사용한다. 만약 서버에 전달하고 싶은 데이터가 있다면 query(쿼리 파라미터, 쿼리 스트링)를 통해서 전달한다. 메세지 바디에 넣는 것도 가능하긴 하지만, 이러한 방식을 지원하지 않는 서버도 있기 때문에 권장하지 않는다.
- `POST`: 200 OK, 201 Created
  - 클라이언트는 메시지 바디를 통해 서버로 요청 데이터 전달하고, 서버는 해당 데이터를 처리한다. 주로 등록(create)에 사용하지만 요청 데이터를 어떻게 처리할지는 정해진 것은 아니다. 정리하자면 다음과 같은 상황에서 사용한다:
  - 새 리소스 생성(등록): 서버가 아직 식별하지 않은 새 리소스 생성할 때
  - 요청 데이터 처리: 주문에서 결제완료 -> 배달시작 -> 배달완료로 변경되는 것처럼, 데이터 처리를 넘어서 프로세스를 변경할 때
  - 다른 메서드로 처리하기 애매한 경우: JSON으로 조회 데이터를 넘겨야 하는 등 애매할 때
- `PUT`: 200 OK, 201 Created
  - 리소스를 대체하고, 해당 리소스가 없으면 생성한다. 즉 파일 생성 시 기존 파일이 있으면 덮고, 없으면 새로 생성하는 것과 같은 로직이다. 이때 클라이언트는 본인이 대체할 리소스를 명확하게 알아야 한다(예를 들어 /members/100와 같이 구체적으로 지정해야 한다.)
- `PATCH`: 200 OK
  - 리소스를 부분적으로 변경한다. 회원 개인정보에서 닉네임을 바꾸는 것처럼 특정 필드 몇 개만 변경할 때 사용한다. `PUT`과 가장 결정적으로 다른 점은, `PUT`은 특정 필드가 없는 요청이 오면 없는 그대로 덮어 써지는 것이고, `PATCH`는 존재하는 필드만 부분 변경을 하는 것이다.
- `DELETE`: 200 OK, 204 No Content
  - 리소스를 삭제한다.

###🎸기타 메서드
- `HEAD`: `GET`과 동일하지만 메시지 부분을 제외하고, 상태 줄과 헤더만 반환한다.
- `OPTIONS`: 대상 리소스에 대한 통신 가능 옵션(메서드)을 설명한다.(주로 CORS에서 사용한다.)
- `CONNECT`: 대상 리소스로 식별되는 서버에 대한 터널을 설정한다. 거의 사용하지 않는다.
- `TRACE`: 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행한다. 거의 사용하지 않는다.

###✅HTTP 상태 코드 - 2XX, 성공
- `200 OK`: 요청이 성공적이었다. (GET의 경우는 리소스를 불러와서 메시지 바디에 전송 완료, PUT 또는 POST: 수행 결과에 대한 리소스가 메시지 바디에 전송 완료)
- `201 Created`: 요청이 성공적이었으며 그 결과로 새로운 리소스가 생성되었다.
- `204 No Content`: 서버가 요청을 성공적으로 수행했지만, 응답 페이로드 본문에 보낼 데이터가 없다. 예를 들어 웹 문서 편집기에서 save 버튼은 본문에 데이터를 받을 필요가 없다.
  
###🪧HTTP 상태 코드 - 3XX, 리다이렉션
- `301 Moved Permanently, 308 Permanent Redirect`: 영구 리다이렉션으로, 리소스의 URI가 영구적으로 이동했으며 원래의 URL를 사용하지 않는다. 이 둘은 같은 의미이나 308은 리다이렉트시 요청 메서드와 본문 유지, 즉 처음 POST를 보내면 리다이렉트도 POST 유지라는 점이 다르다.
- `302 Found, 303 See Other, 307 Temporary Redirect`: 일시적인 리다이렉션으로, 요청한 리소스의 URI가 일시적으로 변경되었음을 의미한다. 302는 요청 메서드가 GET으로 변하고 본문이 제거될 수 있음(가능성이 있다)을 의미, 303은 리다이렉트시 요청 메서드가 GET으로 변경, 307은 리다이렉트시 요청 메서드와 본문 유지를 의미한다. 실무에서는 대부분 302를 사용한다.

일시적 리다이렉션을 쓰는 경우: POST로 주문 후에 웹 브라우저를 새로고침하면 중복 주문이 될 수 있다. 따라서 이런 경우에는 POST로 주문 후에 주문 결과 화면을 GET 메서드로 리다이렉트해줘서 사용자가 새로고침을 해도 GET만 다시 호출되도록 한다.

###🚫HTTP 상태 코드 - 4XX, 클라이언트 오류
클라이언트가 이미 잘못된 요청이나 데이터를 보내고 있기 때문에 똑같은 재시도가 실패하는 에러이다.
- `400 Bad Request`: 클라이언트가 잘못된 요청(요청 파라미터 잘못, API 스펙 잘)을 해서 서버가 요청을 처리할 수 없다. 이 경우 서버 개발자들이 에러 처리를 잘 해서 클라이언트 오류라는 것을 알려줘야 한다.
- `401 Unauthorized`: 인증(Authentication) 되지 않은 상태로, 로그인 자체가 되지 않았을 경우이다. 클라이언트는 요청한 응답을 받기 위해서는 반드시 스스로를 인증해야 한다.
- `403 Forbidden`: 인가(Authorization)되지 않은 상태로, 서버가 요청을 이해했고 클라이언트가 누구인지 알고 있지만 승인을 거부하는 경우이다. 클라이언트는 콘텐츠에 접근할 권리를 가지고 있지 않다. 예를 들어서 어드민 등급이 아닌 사용자가 로그인은 했지만 어드민 등급의 리소스에 접근하는 경우를 의미한다.
- `404 Not Found`: 요청 리소스를 찾을 수 없는 경우로, 1) 요청 리소스 자체가 서버에 존재하지 않거나, 2) 클라이언트가 권한이 부족한 리소스에 접근할 때 해당 리소스의 존재 자체도 숨기고 싶은 경우에 사용한다.

###🔥HTTP 상태 코드 - 5XX, 서버 오류
서버에 문제가 있기 때문에 재시도 하면 성공할 수도 있다.
- `500 Internal Server Error`: 서버 내부 문제로 오류 발생한 경우로, 애매하면 그냥 500이다.
- `502 Bad Gateway`: 서버가 요청을 처리하는 데 필요한 응답을 얻기 위해 게이트웨이로 작업하는 동안 잘못된 응답을 수신했다. 즉, 게이트웨이, 프록시 역할을 하는 서버가 다른 서버로부터 유효하지 않은 응답을 받았을 때를 의미한다. 예시로 AWS LB가 타겟 그룹의 EC2에게서 정상적이지 않은 답변을 받았을 때를 의미한다.
- `503 Service Unavailable`: 서버가 일시적인 과부하 또는 예정된 작업으로 잠시 요청을 처리할 수 없는 경우이다. 이 응답과 함께 문제를 설명하는 사용자 친화적인 페이지가 전송되어야 한다.

### QnA
---
(스터디 이후 채울 예정)

### 레퍼런스
---
- [mozilla의 HTTP Status](https://developer.mozilla.org/ko/docs/Web/HTTP/Status)
